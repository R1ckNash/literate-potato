<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8"/>
    <title>Welcome</title>
    <link th:rel="stylesheet" th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css}"/>
    <link th:rel="stylesheet" th:href="@{static/style.css}"/>
    <link th:rel="stylesheet" th:href="@{webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light static-top">
    <div class="container">
        <div class="d-flex flex-column" sec:authorize="!isAuthenticated()">
            <div><a class="body__item" th:href="@{/login}">Login</a></div>
            <div><a class="body__item" th:href="@{/registration}">Registration</a></div>
        </div>
        <div class="d-flex flex-column" sec:authorize="isAuthenticated()">
            <h1 class="mb-5">Welcome, <span sec:authentication="name">Username</span></h1>
            <div th:if="${accessError}">
                <div style="color: red" th:text="${accessError}"></div>
            </div>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" th:href="@{/}">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/posts}">All posts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/categories}">All categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/userpage/{id}(id=${user.getId()})}">User info</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/admin_panel}">Admin
                            panel</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/}">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/logout}">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>
</body>

</html>